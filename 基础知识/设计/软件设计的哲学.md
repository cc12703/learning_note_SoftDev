

# 软件设计的哲学

[TOC]



## 复杂度

### 定义
* 与软件系统结构有关的，使人难以理解和修改系统的所有因素
* 如果一个软件系统难以理解和修改，那么它就是复杂的

### 表现
* `变更放大`：一个变更需要在许多不同的地方修改代码
* `认知负担`：开发者需要了解多少知识才能完成任务。了解的越多，负担越高
* `不知道未知`：不清楚必须修改哪些代码才能完成任务

### 原因
* 依赖关系
* 模糊性

### 增量的
* 复杂性是由许多小问题累积而成的
* 为了减少复杂性的增长，必须采用`零容忍`的理念

### 好的设计目标
* 让系统一目了然
* 减少依赖关系的数量、尽可能使依赖关系简单明了


## 思维方式

### 战术性编程
* 最重要工作：让代码能工作，尽量完成任务
* `问题`：目光短浅

### 战略性编程
* 最重要工作：为未来的扩展提供便利
* `投资心态`：投入时间来改进系统设计

### 好方法
* 让每一位工程师都对良好的设计进行`持续`的`小额`投资


## 模块

### 好模块

#### 特征
* 接口比实现简单得多的模块

#### 优点
* 最大限度地降低对其他部分造成的复杂度
* 修改模块的许多方面时，可以不影响其他模块

#### 方法
* 进行良好的抽象：对实体进行简化，忽略`不重要`的细节

##### 反例
* 抽象中包含了不重要的细节，导致抽象变得不必要的复杂
* 抽象中忽略了真正重要的细节，导致错误的抽象


### 深模块
* 在简单的接口后面隐藏了大量功能
* 例子：linux的文件IO接口、编程语言中的垃圾回收器
* 反面：浅模块（例子：Java IO接口）

#### 图示
* ![](https://raw.githubusercontent.com/cc12703/picbed/main/4954b331d93c8da7ea5165db6113b15b.jpg)


## 深模块实现

### 信息隐藏

### 模块更通用

