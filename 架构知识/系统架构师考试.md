

# 系统架构师考试

[TOC]

## 计算机基础

### 硬件

#### 处理器
* CPU：中央处理器，冯 * 洛伊曼结构，集成了控制单元和运算单元
* DSP：信号处理器，哈弗结构，用于实时的数字信号处理
* GPU：图像处理器，可并行运行大量计算
* FPGA：可编程逻辑门陈列

#### 指令集
* CISC：复杂指令集，Intel, AMD
* RISC: 精简指令集，ARM, Power

#### 存储器
* 物理距离分类：片上缓存、片外缓存、主存、外存

### 软件

#### 操作系统
* 特征：并发性、共享性、虚拟性、不确定性
* 分类：批处理系统、分时系统、实时系统、网络系统、分布式系统、嵌入式系统


#### 数据库
* 分类：关系型数据库、键值数据库、列存储数据库、文档数据库

#### 软件构件
* 特性：自包容、可重用
* 优点：易扩展、可重用、并行开发

##### 标准规范
* `CORBA`：公共对象请求代理架构
* `J2EE`
* `DNA2000`：使用 DCOM, COM, COM+

### 语言

#### 组成
* 表达式
* 流程控制
* 集合

#### 分类
* 机器语言
* 汇编语言：机器语言的符号化描述。部分：名字、操作符、操作数、注释
* 高级语言: C, C++, Java, Python
* 建模语言：UML
* 形式化语言：Z

### UML

#### 关系
* 依赖关系：一个事物的变化会影响到另一个事物
* 关联关系：
* 包含关系：多个用例共用一组动作，将动作抽出来作为子用例
* 扩展关系：对基用例的扩展
* 泛化关系：特殊和一般的关系


#### 视图
* 用例视图（中心地位）
* 逻辑视图
* 进程视图
* 实现视图
* 部署视图


## 嵌入式基础

### 特点
* 处理器工艺：民用、工业、军用
* 操作系统：实时性、可裁剪性、安全性

### 分类
* 用途：非实时、强实时、弱实时
* 安全性：安全攸关、非安全攸关


### 系统组成
* 硬件层
* 抽象层：硬件抽象层（HAL）, 板级支持包（BSP）
* 操作系统层
* 中间层：连接两个独立应用
* 应用层


### 软件设计方法
* 可裁剪性：静态编译、动态库、控制函数流程
* 可配置性：数据驱动、静态编译、配置表
* 强实时性：表驱动、配置、静/动态结合、汇编语言
* 安全性：编码标准、安全保障机制、FMECA
* 可靠性：容错技术、余度技术、鲁棒性设计
* 低功耗设计：编译优化技术、软硬件协调设计、算法优化




## 网络基础

### 通信技术
* 信道：信号通过信道传输，逻辑信道和物理信道，信号需要经过编码、交织、调制
* 复用：一条信道上同时传输多路数据，时分复用、频分复用、码分复用
    * 例子：一条路上行驶多辆货车
* 多址：一条线路上同时传输多个用户数据，时分多址、频分多址、码分多址
    * 例子：一辆车上运送不同用户的货物


### 网络技术

#### 局域网（LAN）
* 拓扑：总线型、星型、树型、环型、网状

#### 以太网
* 一种局域网组网技术
* 标准：IEEE 802.3
* 数据帧最小大于等于64字节（根据检测冲突的最长时间来定的）

#### 无线局域网（WLAN）
* 标准：IEEE 802.11
* 拓扑：点对点型、Hub型、完全分布型

#### 广域网（WAN）
* 组成：通信子网、资源子网
* 类型：公共传输网络、专用传输网络、无线传输网络
* 技术：同步光网络、数字数据网（DDN）、帧中继（FR）、异步传输技术（ATM）

#### 城域网（MAN）
* 层次：核心层、汇聚层、接入层
* 标准：IEEE 802.6


### 组网技术

#### 网络协议
* OSI七层：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层
* TCP五层：硬件层、网络接口层、网际层、传输层、      应用层

#### 网络设备
* 物理层：集线器、中继器
* 数据链路层：网桥、交换机
* 网络层：路由器、防火墙


#### 主要协议
* 应用层：FTP, TFTP, HTTP, HTTPS, DHCP, DNS
* 传输层：TCP，UDP
* 网络层：IP
* 交换机：STP(生成树协议)，链路聚合协议
* 路由器：IGP(内部网关协议)，EGP(外包网关协议)，BGP(边界网关协议)


### 网络工程


#### 接入层
* 直接面向用户连接
* 负责用户管理功能：地址认证、用户认证、计费管理
* 负责用户信息收集

#### 汇聚层
* 访问策略控制
* 数据包处理、过滤、寻址

#### 核心层
* 网络主干部分
* 提供优质、可靠的骨干传输


## 信息系统 

### 基础
* 系统功能：输入、存储、处理、输出、控制
* 发展道路：初始、传播、控制、集成、数据管理、成熟
* 生命周期：产生、开发、运行、消亡
* 建设原则：高层管理人员介入、用户参与开发、自顶向下规划、工程化
* 开发方法：结构化方法、原型法、面向对象方法、面向服务方法、敏捷方法、构件化方法


### 典型应用

#### 业务处理系统(TPS)
* 目的：用计算机自动化，减轻处理数据的负担，提高处理效率
* 处理周期：数据输入、数据处理、数据库维护、文件报表生成、查询处理
* 处理方式：批处理、OLTP(联机事务处理)

#### 管理信息系统(MIS)
* 目的：企业整体的管理、业务层面的管理决策
* 组成：子系统（上层），各个过程（底层），功能由过程组合实现

#### 决策支持系统(DSS)
* 特点：面向决策者、支持半结构化问题、辅助支持、过程动态、交互
* 结构形式：两库结构、基于知识的结构

#### 专家系统(ES)
* 特点：超越时间限制、操作成本低、处理手段一致、善于克服难题、适用特定领域
* 组成：知识库、推理机

#### 办公自动化系统(OA)
* 组成：计算机设备、办公设备、数据通信、网络设备、软件系统
* 功能：事务处理、信息管理、辅助决策


#### 企业资源规划(ERP)
* 企业资源流：物流、资金流、信息流


### 电子政务
* 主体：政府、企/事业单位、居民

#### 分类
* 政府对政府：国家、地方基础信息的采集、处理、利用
* 政府对企业：面向企业的活动
* 政府对居民：面向居民提供的服务
* 企业对政府：企业缴纳的税款、填报政府要求的统计信息和报表、参与政府工程
* 居民对政府：个人缴纳的税款和费用、报警服务

### 企业信息化
* 实现层面：企业战略、业务运作、管理运作

## 信息安全

### 基础
* 基本要素：机密性、完整性、可用性、可控性、审查性
* 范围：设备安全、数据安全、内容安全、行为安全
* 安全措施目标：访问控制、认证、完整性、审计、保密

### 对称加密
* DES算法: 分组长度64位，密钥长度56位
* 三重DES算法：密钥长度112位 (使用两个DES密钥)
* AES算法：分组长度128位，密钥长度128、192、256位
* SM4算法：分组长度128位，密钥长度128位

### 非对称加密
* RSA算法：基于大素数难于分解
* SM2算法：基于椭圆曲线离散对数问题


### 密钥管理
* 公钥体系方法：直接公开发布、公用目录表、公钥管理机构（CA）、公钥证书


### 访问控制
* 要素：主体、客体、控制策略
* 内容：认证、控制策略实现、审计（防止滥用权利）

#### 实现技术
* 访问控制矩阵（ACM）：主体为行，客体为列
* 访问控制表（ACL）: 按列来保存访问矩阵（最流行）
* 能力表：按行保存访问矩阵
* 授权关系表：抽取访问矩阵中非空元素

### 数字签名
* 基础：公钥加密技术、数字摘要技术
* 条件：可信、不可伪造、不可重用、不可改变、不可抵赖




## 系统工程


### 霍尔三维结构
* 一种系统工程方法论
* 三维：时间维、逻辑维、知识维


### 生命周期
* 阶段：探索、概念、开发、生产、使用、保障、退役
* 方法：计划驱动、渐进迭代式、精益、敏捷

### MBSE(基于模型的系统工程)
* 建模方法的形式化应用
* 使用建模方法来支持工程的各个阶段

#### 产物
* 需求阶段：需求图、用例图、包图
* 分析阶段：顺序图、活动图、状态机图
* 设计阶段：模块定义图、内部块图、参数图

#### 支柱
* 建模语言
* 建模工具
* 建模思路



### 性能评估
* 计算机：主频、运算速度、运算精度、数据处理速率（PDR）、吞吐率
* 路由器：丢包率、时延、时延抖动、协议支持
* 交换机：端口速率、背板吞吐量、缓冲区大小、MAC地址表大小
* 操作系统：上下文切换、响应时间、吞吐量、资源利用率、可靠性、可移植性
* 数据库管理系统：最大并发事务处理能力、负载均衡能力、最大连接数
* Web服务器：最大并发连接数、响应延迟、吞吐量

### 指标计算
* MIPS(每秒百万次指令数) = 指令条数/ (执行时间 * 10^6)
    * 若一条指令需要15us，则MIPS为 1/15 => 0.067
* 理论浮点峰值 = CPU主频 * CPU每个时钟周期执行的浮点次数 * CPU数量


### 性能评估
* Web服务器：基准性能测试、压力测试、可靠性测试
    




## 软件工程

### 开发模型

#### 瀑布模型
* 特点：各个阶段紧密相连，前一个阶段的输出是后一个阶段的输入
* 缺点：需求难以一次确定、变更代价高、结果难以预见、各阶段不能并行

#### 原型模型
* 特点：将开发分成两个阶段，原型开发、目标软件开发
* 分类：抛弃型原型、演化型原型
* 解决了`瀑布模型`的缺点

#### 螺旋模型
* 在`原型模型`的基础上扩展的
* 特点：将开发流程分成多个阶段，每个阶段都有4部分组成
* 部分：目标设定、`风险分析`、开发和有效性验证、评审



#### 敏捷模型

##### 极限编程
* 测试先行：先写测试代码，再写程序
* 特点：以人为中心，强调高度纪律性
* 适用于：对费用控制严格的公司

##### 水晶系列方法
* 以人为中心，强调用最少的纪律约束
* 在产出效率和易于运作删达到一种平衡
* 不同项目，采用不同的策略

##### Scrum
* 整个开发分为若干个迭代周期(Sprint)
* 使用产品Backlog来管理需求
* 每个迭代周期处理Backlog中最高优先级的需求

##### 功用驱动开发(FDD)
* 人员分类： 首席程序员（项目协调、设计、指导）、类程序员（写代码）
* 特点：短的迭代阶段、可见可用的功能

##### 开放式源码
* 开发人员在地域上分布很广
* 特点：查错排障和开发是高度并行的



#### 软件统一过程(RUP)
* 一种重量级过程模型，属于构件化开发
* 特点：用例驱动的、以架构为中心、迭代和增量的
* 9个核心工作流

##### 流程
* 整个开发划分为多个循环
* 每个循环产生一个新版本
* 每个循环由四个阶段组成
* 四个阶段：初始、细化、构造、移交


##### 架构描述(4+1)
* 逻辑视图
* 实现视图
* 进程视图
* 部署视图
* 用例视图（指导上面的四个视图）
    

### 需求工程

#### 层次
* 业务需求：对系统、产品高层次的目标要求
* 用户需求：用户使用产品必须要完成的任务
* 功能需求：定义了开发人员必须实现的软件功能

#### 阶段
* 需求获取
* 需求分析
* 形成需求规格
* 需求确认与验证
* 需求管理

#### 需求管理
* 变更控制
* 版本控制
* 需求跟踪


#### SRS
* 软件需求规格说明书（Software Requirement Specification）
* 包括：功能需求、非功能需求、设计约束、过程约束

#### CCB
* 变更控制委员会（Change Control Board）
* 决策机构：通过评审来决定项目是否能变更
* 步骤：制定决策、交流情况、重新协商约定

#### 需求跟踪
* 目的：维护“需求-设计-编码-测试”的一致性，确保所有工作成果符号用户需求
* 方法：正向跟踪、逆向跟踪。维护`需求跟踪矩阵`


### 结构化方法

#### 分析手段
* 数据流图（DFD）
* 数据字典
* 结构化语言
* 判定表、判定树

#### DFD基本元素
* 数据流
* 处理/加工
* 数据存储
* 外部项

#### 设计
* 是一个`自顶向下`，`逐步求精`，`模块化`的过程
* 两个阶段：概要设计、详细设计

#### 模块
* 作用：实现功能的基本单位
* 属性：功能、逻辑、状态


### 面向对象方法

#### 分析方法（OOA）
* 层次：主题层、对象类层、结构层、属性层、服务层
* 活动：标识对象类、标识结构、定义主题、定义属性、定义服务
* 基本原则：抽象、封装、继承、分类、聚合、关联、消息通信、粒度控制、行为分析
* 基本步骤：确定对象和类、确定结构、确定主题、确定属性、确定方法

#### 设计方法（OOD）

##### 类的类型
* 实体类：一个名词，通常需要永久性存储（教师、学生）
* 控制类：一个用于控制用例工作的类（登录验证）
* 边界类：封装用例内、外流动的信息或数据流（窗口、通信协议、接口）


### 测试

#### 分类
* 执行状态：静态测试、动态测试
* 关注内部的程度：黑盒测试、白盒测试、灰盒测试
* 阶段：单元测试、集成测试、系统测试、验收测试


### 基于构件的方法

#### 构件模型
* Web Services模型
* EJB模型
* .Net模型


#### 模型要素
* 接口
* 使用信息
* 部署信息


#### 构件组装

##### 方式
* 顺序组装
* 层次组装
* 叠加组装

##### 问题
* 参数不兼容
* 操作不兼容
* 操作不完备


## 数据库

### 基础

#### 概念
* 数据（Data）：描述事物的符号记录（文字、图形、图像、声音）
* 数据库（DB）：存储在计算机内，有组织的相关`数据`的集合
* 数据库系统（DBS）：采用了`数据库`技术的，用户可访问的计算机系统
* 数据库管理系统（DBMS）：`数据库系统`的核心软件

#### 数据模型要素
* 数据结构
* 数据操作
* 数据约束：实体完整性（主键）、参照完整性（外键）、用户定义完整性

#### 三模式
* 三个层次：视图层、逻辑层、物理层 （对用户屏蔽系统的复杂性）
* 三级模式：外模式、概念模式、内模式 

##### 图示
![](https://raw.githubusercontent.com/cc12703/picbed/main/20250811172856739.png)


#### 两映像
* 外模式/概念模式：逻辑独立性
    * 数据的逻辑结构改变时，应用程序不变
* 概念模式/内模式：物理独立性
    * 数据的物理存储改变时，应用程序不变


### 关系数据库

#### 概念
* 属性：用于描述事物的特征
* 域：属性取值范围对应的值的集合
* 目或度：一个关系中属性的个数
* 候选码：属性、属性组中的值能唯一标识一个元组
    * **判断方法：该属性是否只在依赖集中`箭头`的左边出现**
* 主码：从多个候选码中选定一个
* 主属性：候选码中的属性
* 外码：属性、属性组中不是该关系的码，但是其他关系的码
* 全码：所有属性组都是候选码

#### 规范化
* 第一范式(1NF)：每个属性是不可再分的数据项
* 第二范式(2NF)：每个非主属性完全依赖主码
* 第三范式(3NF)：每个非主属性对主码没有传递函数依赖
* BC范式(BCNF)：每个属性都不传递依赖于候选码


#### 事务特性(ACID)
* 原子性(Atomicity)：事务中的所有操作要么全做，要么全不做
* 一致性(Consistency)：事务使数据库从一个一致性状态变成另一个一致性状态
* 隔离性(Isolation)：一个事务的执行不被其他事务干扰
* 持久性(Durability)：事务一旦提交，其对数据库的改变必须是永久的


#### E-R图
* E-R：实体-联系方法
* 实体：矩形框，框内标注实体名称
* 属性：椭圆形，通过连线与实体连接起来
* 联系：菱形框，框内标注联系名称

#### OLTP(联机事务处理)
* 用户：操作人员、低层管理人员
* 目的：日常操作处理
* 简单的事务

#### OLAP(联机分析处理)
* 用户：决策人员、高级管理人员
* 目的：分析决策
* 复杂的查询


### NoSQL数据库

#### 概念
* 泛指非关系型数据库，不保证数据的ACID特性

#### 类型
* 列式存储数据库：HBate, Cattandra
* 键值对存储数据库: Redis
* 文档型数据库: MongoDB
* 图数据库：Neo4J


#### 框架
* 接口层
* 数据逻辑模型层
* 数据分布层
* 数据持久层


### 分布式数据库

#### 体系结构
* 全局视图：该层直接与用户交互
* 全局概念模式：定义了数据的整体逻辑结构
* 分片模式：将关系模式分解为几个数据片
* 分配模式：定义数据片的存放节点
* 局部概念模式
* 局部内模式


##### 图示
![](https://raw.githubusercontent.com/cc12703/picbed/main/20250812171626973.png)


#### 特点
* 共享性：不同节点的数据共享的
* 自治性：每个节点独立管理数据
* 可用性：某节点故障，可以使用其他节点的副本
* 分布性：数据分布在不同的存储上



### 优化技术

#### 集中式数据库
* 增加冗余列：多个表中放相同的列，避免查询是连接操作
* 增加派生列：列中的数据可以通过其他数据计算出，减少查询时的计算量
* 重新组表：将两张表重新组成一个新表，减少连接提高性能
* 水平分割表：按记录进行分割，数据放到多个独立的表中
* 垂直分割表：按列进行分割（将主键和部分列放入一张表中）

#### 分布式数据库
* 主从复制：创建一个和主库完全一样的从库
* 读写分离：主库负责写，从库负载读
* 分表：在一个实例内部，将大表分成若干小表
* 分库：将一个实例中的多个表，分散到多个实例中



## 缓存(Redis)


### 数据类型

#### string
* 特点：字符串、整数、浮点数
* 用途：进行计数功能（播放量、浏览量）

#### list
* 特点：列表
* 用途：回复评论、点赞、粉丝列表

#### set
* 特点：无序集合，值不能重复
* 用途：去重、抽奖、标签管理、共同好友

#### hash
* 特点：节省空间
* 用途：用户信息

#### zset
* 特点：有序集合
* 用途：排名功能



### 访问方式

#### 读数据
1. 根据`key`读缓存
1. 读取成功就直接返回
1. 若不在缓存则读数据库
1. 读取成功后，写入缓存
1. 成功返回

#### 写数据
1. 根据`key`写数据库
1. 成功后更新缓存
1. 成功返回


### 异常问题

#### 缓存穿透
* 大量请求访问了没有缓存的key，直接访问了数据库

##### 恶意攻击
* 限制来源IP的访问次数
* 检查key合法性，拒绝不合法请求
* 使用布隆过滤器

##### 缓存中没有Key
* 预热redis
* 前端进行流量控制，逐步加载热数据
* 数据库也没有的key, redis中设置为空


#### 缓存雪崩
* 大量请求访问缓存中的key，key存在但是同时到了过期时间，直接访问了数据库

##### Redis故障
* 使用主从复制，使用集群
* 出现故障时，采用降级、限流

##### 设置了相同的过期时间
* 过期时间加上一个随机值，使key均匀过期


#### 缓存击穿
* 少量热点的key到了过期时间，直接访问了数据库

##### 设置太短的过期时间
* 对于热点key，设置较长的过期时间
* 对于非常重要的key，设置永久有效
* 使用分布式锁，控制访问数据库的流量